{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst start = document.querySelector(\"[data-start]\");\nconst days= document.querySelector(\"[data-days]\");\nconst hours = document.querySelector(\"[data-hours]\");\nconst minutes = document.querySelector(\"[data-minutes]\");\nconst seconds = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate = null;\nlet intervalId = null;\n\nstart.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        let selectedDate = selectedDates[0];\n        if (selectedDate <= new Date()) {\n            iziToast.show({\n                message: 'Please choose a date in the future',\n                backgroundColor: '#ef4040',\n                position:'topRight'\n            });\n            start.disabled = true;\n        } else {\n            userSelectedDate = selectedDate;\n            start.disabled = false;\n        };\n    }\n}\nflatpickr(input, options);\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nstart.addEventListener(\"click\", () => {\n  start.disabled = true;\n  input.disabled = true;\n\n  intervalId = setInterval(() => {\n    const ms = userSelectedDate - new Date();\n\n    if (ms <= 0) {\n      clearInterval(intervalId);\n      days.textContent = \"00\";\n      hours.textContent = \"00\";\n      minutes.textContent = \"00\";\n      seconds.textContent = \"00\";\n      input.disabled = false;\n      return;\n    }\n\n    const time = convertMs(ms);\n    days.textContent = addLeadingZero(time.days);\n    hours.textContent = addLeadingZero(time.hours);\n    minutes.textContent = addLeadingZero(time.minutes);\n    seconds.textContent = addLeadingZero(time.seconds);\n\n  }, 1000);\n});"],"names":["input","start","days","hours","minutes","seconds","userSelectedDate","intervalId","options","selectedDates","selectedDate","iziToast","flatpickr","addLeadingZero","value","convertMs","ms","time"],"mappings":"+IAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAM,SAAS,cAAc,aAAa,EAC1CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EAAmB,KACnBC,EAAa,KAEjBN,EAAM,SAAW,GAEjB,MAAMO,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5B,IAAIC,EAAeD,EAAc,CAAC,EAC9BC,GAAgB,IAAI,MACpBC,EAAS,KAAK,CACV,QAAS,qCACT,gBAAiB,UACjB,SAAS,UACzB,CAAa,EACDV,EAAM,SAAW,KAEjBK,EAAmBI,EACnBT,EAAM,SAAW,GAExB,CACL,EACAW,EAAUZ,EAAOQ,CAAO,EAExB,SAASK,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASC,EAAUC,EAAI,CAMrB,MAAMd,EAAO,KAAK,MAAMc,EAAK,KAAG,EAC1Bb,EAAQ,KAAK,MAAOa,EAAK,MAAO,IAAI,EACpCZ,EAAU,KAAK,MAAQY,EAAK,MAAO,KAAQ,GAAM,EACjDX,EAAU,KAAK,MAASW,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAd,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEAJ,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,SAAW,GACjBD,EAAM,SAAW,GAEjBO,EAAa,YAAY,IAAM,CAC7B,MAAMS,EAAKV,EAAmB,IAAI,KAElC,GAAIU,GAAM,EAAG,CACX,cAAcT,CAAU,EACxBL,EAAK,YAAc,KACnBC,EAAM,YAAc,KACpBC,EAAQ,YAAc,KACtBC,EAAQ,YAAc,KACtBL,EAAM,SAAW,GACjB,MACD,CAED,MAAMiB,EAAOF,EAAUC,CAAE,EACzBd,EAAK,YAAcW,EAAeI,EAAK,IAAI,EAC3Cd,EAAM,YAAcU,EAAeI,EAAK,KAAK,EAC7Cb,EAAQ,YAAcS,EAAeI,EAAK,OAAO,EACjDZ,EAAQ,YAAcQ,EAAeI,EAAK,OAAO,CAElD,EAAE,GAAI,CACT,CAAC"}